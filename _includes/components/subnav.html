{% if page.layout == "portfolio-list" %}
      {% assign subnav = true %}
{% endif %}

{% if page.layout == "portfolio-list-category" %}
      {% assign subnav = true %}
{% endif %}

{% if page.layout == "portfolio-detail" %}
      {% assign subnav = true %}
{% endif %}

{% if page.collection-category == page.category %}
    {% assign active = true %}
{% endif %}

{% assign categories_array = "" | split:"|" %}

{% for item in site.portfolio %}
    {% assign categories_array = categories_array | push: item.category | uniq %}
{% endfor %}

{% if subnav %}
    <ul class="subnav">
        {% for category in categories_array %}
            <li class="subnav__link {% if page.category == category %}active{% endif %}">
                <a href="/{{ category }}/">
                    {{ category }}
                </a>
            </li>
        {% endfor %}
    </ul>
{% endif %}

{% if subnav %}
<div class="subnav--mobile js-subnav-mobile">
    <div class="subnav--mobile__title js-subnav-mobile-button">
        <span>Categories</span>
       <div class="subnav--mobile__dropdown--wrap">
           <div class="subnav--mobile__dropdown"></div>
       </div>
    </div>
    <ul class="subnav--mobile__list">
        {% for category in categories_array %}
            <li class="subnav--mobile__link {% if page.category == category %}active{% endif %}">
                <a href="/{{ category }}/">
                    {{ category }}
                </a>
            </li>
        {% endfor %}
    </ul>
</div>

{% endif %}
